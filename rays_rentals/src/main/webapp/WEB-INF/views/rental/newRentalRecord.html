<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{view.index.title}">Welcome!</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="../../../resources/css/bootstrap.min.css" rel="stylesheet" media="screen" th:href="@{/resources/css/bootstrap.min.css}"/>
    <link href="../../../resources/css/core.css" rel="stylesheet" media="screen" th:href="@{/resources/css/core.css}" />
    <script src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="../../../resources/js/bootstrap.min.js" th:src="@{/resources/js/bootstrap.min.js}"></script>
</head>
<body>
<div th:replace="fragments/header :: header">&nbsp;</div>
<div class="container">
  	<form method="post" class="form-horizontal" th:action="@{/rental/addNewRentalRecord}" th:object="${rentalRecord}">
  		<input type="hidden" th:field="*{id}"/>
  		<div class="container col-md-8 col-centered">
  		<!--  add validation here when needed -->
  			<div class="col-md-8">
  				<div class="col-md-8">
  					<div th:if="${title == null}">
  					<h2>Create New Record</h2>
  					</div>
  				   <h2 th:text="${title}">Create New Record</h2>
  				  <label>Rent Date
  					<input type="date" class="form-control form-padding" th:field="*{rentDate}" placeholder="Rent Date" />
  				  </label> 
  				  <label>Time Out
  					<input type="time" class="form-control form-padding" th:field="*{timeOut}" placeholder="Time Out" /> 
  				  </label>
  				   <label>Time Due Back
  					<input type="time" class="form-control form-padding" th:field="*{timeBackDue}" placeholder="Return Date" /> 
  				  </label>
  				   <label>Time Actually Back
  					<input type="time" class="form-control form-padding" th:field="*{timeBackActual}" placeholder="Time Returned" /> 
  				  </label>
  				  <label>Amount Paid
  					<input type="text" class="form-control form-padding" th:field="*{amountPaid}" placeholder="Amount Paid" /> 
  				  </label>
  				  <div th:if="${customerRetrieved == null}">
	  				  <label>Customer
	  					<select class="form-control form-padding" th:field="*{customer.id}">
	  					<option value="">Customer</option>
							<option
								th:each="customer : ${customers}"
								th:value="${customer.id}" th:text="|${customer.id} - ${customer.firstName} ${customer.lastName} |">
							</option>
	  					</select>
	  				  </label>
  				  </div>
  				 <div th:if="${customerRetrieved != null}">
  				 <label>Customer id
  				   		<input type="text" class="form-control form-padding" th:value="${customerRetrieved.id}" id="customer.id" name="customer.id"/>
  				 </label>
  				 </div>
  				  <div th:if="${bikeRetrieved == null}">
	  				  <label>Bike
	  					<select class="form-control form-padding" th:field="*{bike.id}">
	  					<option value="">Bike</option>
							<option
								th:each="bike : ${availableBikes}"
								th:value="${bike.id}" th:text="|${bike.id} - ${bike.model} ${bike.manufacturer} |">
							</option>
	  					</select>
	  				  </label>
  				  </div>
  				   <div th:if="${bikeRetrieved != null}">
  				  <label>Bike id
  					<input type="text" class="form-control form-padding" th:value="${bikeRetrieved.id}" id="bike.id" name="bike.id"/>
  				  </label>
  				 </div>
  				
  				  
  					<div class="pull-right">
							<a th:href="@{/rental/allrentals}"> 
								<input type="button" class="btn btn-danger" value="Cancel" /></a>
							<input type="submit" class="btn btn-success" value="Save" />	
					</div>
  				</div>
  			</div>
  		</div>
  	
  	</form>
</div>
</body>
</html>